//! This code was AUTOGENERATED using the Codama library.
use crate::types::OptionalNonSystemPubkey;
use crate::types::ShipStats;
use carbon_core::CarbonDeserialize;
use carbon_core::borsh;
use carbon_core::deserialize::CarbonDeserialize;
use solana_pubkey::Pubkey;

/// This account represents a Ship

#[cfg_attr(feature = "serde", derive(serde::Serialize, serde::Deserialize))]
#[derive(Debug, Clone, borsh::BorshSerialize, CarbonDeserialize, PartialEq)]
pub struct Ship {
    /// The data version of this account.
    pub version: u8,
    /// the game_id account this Ship is registered with
    pub game_id: Pubkey,
    /// the mint representing the Ship
    pub mint: Pubkey,
    /// The name of this `Ship`
    #[cfg_attr(feature = "serde", serde(with = "serde_big_array::BigArray"))]
    pub name: [u8; 64],
    /// the ship's size class
    pub size_class: u8,
    /// The ship's stats
    pub stats: ShipStats,
    /// The `update_id` for the `Ship`
    pub update_id: u64,
    /// The max `Game` `update_id` that the `Ship` is valid for
    pub max_update_id: u64,
    /// the next `Ship` account to use when this `Ship` is updated
    pub next: OptionalNonSystemPubkey,
}

impl Ship {
    pub fn decode(data: &[u8]) -> Option<Self> {
        if data.len() < 8 {
            return None;
        }
        let discriminator = &data[0..8];
        if discriminator != &[114, 41, 245, 232, 24, 58, 234, 158] {
            return None;
        }

        let data_slice = data;

        let data_slice = &data_slice[8..];

        Self::deserialize(data_slice)
    }
}
