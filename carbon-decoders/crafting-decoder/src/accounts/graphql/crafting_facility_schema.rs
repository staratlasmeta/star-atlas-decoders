//! This code was AUTOGENERATED using the Codama library.
use carbon_core::graphql::primitives::Pubkey;
use carbon_core::graphql::primitives::U8;
use carbon_core::graphql::primitives::U32;
use juniper::GraphQLObject;

#[derive(Debug, Clone, GraphQLObject)]
#[graphql(name = "CraftingFacility")]
pub struct CraftingFacilityGraphQL {
    pub account_metadata: crate::accounts::graphql::AccountMetadataGraphQL,
    pub version: U8,
    pub domain: Pubkey,
    pub location: Pubkey,
    pub location_type: U8,
    pub max_concurrent_processes: U32,
    pub num_concurrent_processes: U32,
    pub efficiency: U32,
    pub num_recipe_categories: U32,
}

impl TryFrom<crate::accounts::postgres::CraftingFacilityRow> for CraftingFacilityGraphQL {
    type Error = carbon_core::error::Error;
    fn try_from(row: crate::accounts::postgres::CraftingFacilityRow) -> Result<Self, Self::Error> {
        Ok(Self {
            account_metadata: row.account_metadata.into(),
            version: carbon_core::graphql::primitives::U8((*row.version) as u8),
            domain: carbon_core::graphql::primitives::Pubkey(row.domain.0),
            location: carbon_core::graphql::primitives::Pubkey(row.location.0),
            location_type: carbon_core::graphql::primitives::U8((*row.location_type) as u8),
            max_concurrent_processes: carbon_core::graphql::primitives::U32(
                (*row.max_concurrent_processes) as u32,
            ),
            num_concurrent_processes: carbon_core::graphql::primitives::U32(
                (*row.num_concurrent_processes) as u32,
            ),
            efficiency: carbon_core::graphql::primitives::U32((*row.efficiency) as u32),
            num_recipe_categories: carbon_core::graphql::primitives::U32(
                (*row.num_recipe_categories) as u32,
            ),
        })
    }
}
