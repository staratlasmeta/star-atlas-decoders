//! This code was AUTOGENERATED using the Codama library.
use crate::PROGRAM_ID;
use crate::SnapshotsDecoder;

pub mod create_escrow_history;
pub mod create_locker_history;
pub mod sync;

pub use self::create_escrow_history::*;
pub use self::create_locker_history::*;
pub use self::sync::*;

#[derive(Debug, Clone, PartialEq, Eq, Hash)]
#[cfg_attr(
    feature = "serde",
    derive(carbon_core::InstructionType, serde::Serialize, serde::Deserialize)
)]
#[cfg_attr(feature = "serde", serde(tag = "type", content = "data"))]
pub enum SnapshotsInstruction {
    CreateEscrowHistory(CreateEscrowHistory),
    CreateLockerHistory(CreateLockerHistory),
    Sync(Sync),
}

impl carbon_core::instruction::InstructionDecoder<'_> for SnapshotsDecoder {
    type InstructionType = SnapshotsInstruction;

    fn decode_instruction(
        &self,
        instruction: &solana_instruction::Instruction,
    ) -> Option<carbon_core::instruction::DecodedInstruction<Self::InstructionType>> {
        if !instruction.program_id.eq(&PROGRAM_ID) {
            return None;
        }

        let data = instruction.data.as_slice();

        {
            if let Some(decoded) = create_escrow_history::CreateEscrowHistory::decode(data) {
                return Some(carbon_core::instruction::DecodedInstruction {
                    program_id: instruction.program_id,
                    data: SnapshotsInstruction::CreateEscrowHistory(decoded),
                    accounts: instruction.accounts.clone(),
                });
            }
        }
        {
            if let Some(decoded) = create_locker_history::CreateLockerHistory::decode(data) {
                return Some(carbon_core::instruction::DecodedInstruction {
                    program_id: instruction.program_id,
                    data: SnapshotsInstruction::CreateLockerHistory(decoded),
                    accounts: instruction.accounts.clone(),
                });
            }
        }
        {
            if let Some(decoded) = sync::Sync::decode(data) {
                return Some(carbon_core::instruction::DecodedInstruction {
                    program_id: instruction.program_id,
                    data: SnapshotsInstruction::Sync(decoded),
                    accounts: instruction.accounts.clone(),
                });
            }
        }

        None
    }
}
