//! This code was AUTOGENERATED using the Codama library.
use carbon_core::CarbonDeserialize;
use carbon_core::borsh;
use carbon_core::deserialize::CarbonDeserialize;
use solana_pubkey::Pubkey;

/// Sector

#[cfg_attr(feature = "serde", derive(serde::Serialize, serde::Deserialize))]
#[derive(Debug, Clone, borsh::BorshSerialize, CarbonDeserialize, PartialEq)]
pub struct Sector {
    /// The data version of this account.
    pub version: u8,
    /// the game_id that this belongs to
    pub game_id: Pubkey,
    /// coordinates as [x, y]
    pub coordinates: [i64; 2],
    /// The discoverer of this sector
    pub discoverer: Pubkey,
    /// The name of this sector
    pub name: [u8; 64],
    /// the number of stars in this system
    pub num_stars: u16,
    /// the number of planets in this system
    pub num_planets: u16,
    /// the number of moons in this system
    pub num_moons: u16,
    /// the number of num_asteroid belts in this system
    pub num_asteroid_belts: u16,
    /// The last time the `Sector` was scanned
    pub last_scan_time: i64,
    /// The probability of finding SDUs in the `Sector` from the last time it was scanned
    pub last_scan_chance: u32,
    /// PDA bump
    pub bump: u8,
    /// the number of connections in this system
    pub num_connections: u16,
}

impl Sector {
    pub fn decode(data: &[u8]) -> Option<Self> {
        if data.len() < 8 {
            return None;
        }
        let discriminator = &data[0..8];
        if discriminator != &[65, 117, 23, 82, 80, 133, 247, 233] {
            return None;
        }

        let data_slice = data;

        let data_slice = &data_slice[8..];

        Self::deserialize(data_slice)
    }
}
